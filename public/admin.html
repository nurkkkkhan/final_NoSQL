<!DOCTYPE html>
<html>
<body>
    <nav><a href="index.html">Home</a> | <a href="search.html">Tags</a> | <a href="admin.html">Admin</a> | <a href="stats.html">Stats</a></nav>
    <h2>Admin Control</h2>
    <table border="1" id="tab"><tr><th>Title</th><th>Description</th><th>Action</th></tr></table>
    <script>
        async function load() {
            const res = await fetch('/api/books');
            const books = await res.json();
            document.getElementById('tab').innerHTML = `<tr><th>Title</th><th>Description</th><th>Action</th></tr>` + 
            books.map(b => `<tr><td>${b.title}</td><td>${b.description}</td>
                <td><button onclick="del('${b._id}')">Delete</button></td></tr>`).join('');
        }
        async function del(id) { await fetch('/api/books/'+id, {method:'DELETE'}); load(); }
        load();
    </script>
</body>
</html>